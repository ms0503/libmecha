cmake_policy(SET CMP0076 NEW)

if(ENABLE_CAN)
    target_sources(mecha PRIVATE Can.cc)
endif()
if(ENABLE_ENCODER AND ENABLE_TIM)
    target_sources(mecha PRIVATE Encoder.cc)
endif()
if(ENABLE_GPIO)
    target_sources(mecha PRIVATE GPIO.cc)
endif()
target_sources(mecha PRIVATE Peripheral.cc)
