cmake_policy(SET CMP0076 NEW)

if(ENABLE_MOTORDRIVER)
    if(ENABLE_CAN AND ENABLE_CANMOTORDRIVER)
        target_sources(mecha PRIVATE CanMotorDriver.cc)
    endif()
    if(ENABLE_CYTRONMOTORDRIVER AND ENABLE_ENCODER AND ENABLE_GPIO AND ENABLE_TIM)
        target_sources(mecha PRIVATE CytronMotorDriver.cc)
    endif()
    target_sources(mecha PRIVATE IMotorDriver.cc)
endif()
if(ENABLE_SBDBT AND ENABLE_USART)
    target_sources(mecha PRIVATE SBDBT.cc)
endif()
